<section>
  <div class="page-header">
    <h1 data-ng-bind="vm.submission.title"></h1>
  </div>
  <div>
    <p data-ng-bind="vm.submission.body"></p>
  </div>
  <small>
    <em class="text-muted">
      Posted on
      <span data-ng-bind="vm.submission.created | date:'mediumDate'"></span>
      by
      <span data-ng-if="vm.submission.user"
            data-ng-bind="vm.submission.user.displayName"></span>
      <span data-ng-if="!vm.submission.user">Deleted User</span>
    </em>
  </small>
  <small class="list-group-item-text">
    <br>
    Category:
    <span data-ng-bind="vm.submission.categories"></span>
  </small>
  <p class="lead" data-ng-bind="vm.submission.content"></p>
  <div class="pull-right"
       data-ng-show="vm.submission.isCurrentUserOwner">
    <a class="btn btn-secondary"
       data-ui-sref="submissions.edit({ submissionId: vm.submission._id })">
      <i class="glyphicon glyphicon-edit"
         style="font-size: 30px;margin: 5px;display: block;"></i>
    </a>
    <a class="btn btn-secondary" data-ng-click="vm.remove()">
      <i class="glyphicon glyphicon-trash"
         style="font-size: 30px;margin: 5px;display: block;"></i>
    </a>
  </div>
  <div ng-show="authentication.user" class="ng-show">
    <button class="btn btn-primary ng-show"
            ui-sref="submissions.createImprovement({ submissionId: vm.submission._id })"
            data-ng-hide="vm.submission.isCurrentUserOwner">Create Improvement</button>
  </div>
  <br><br>

  <div class="row">
    <div ui-view="subImprovements"></div>
  </div>
</section>
